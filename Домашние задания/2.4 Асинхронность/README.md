# Домашнее задание к лекции «Асинхронность в JavaScript» 

## Задача «Будильник-колыбельная»

Помогите Васе перестать просыпать на пары. 
Для этого нужно написать программу-будильник-колыбельную с возможностью добавления, удаления, запусков и остановки звонков.

## Что нужно сделать

Необходимо написать класс **AlarmClock** с методами:

1. `constructor` — выделяет память для объекта. 
  * Создайте свойство для хранения коллекции звонков `alarmCollection` с начальным значением пустого массива. 
  * Создайте свойство `intervalId` для хранения `id` таймера без начального значения.

2. `addClock` — добавляет новый звонок в коллекцию существующих. 
  * Принимает параметр времени в формате `HH:MM` — время, когда действие должно запуститься.
  * Принимает параметр функции-коллбека — действие, которое должно запуститься.
  * Проверьте, переданы ли параметры времени и коллбека. Если параметр не передан, выполните выброс ошибки с помощью `throw new Error('Отсутствуют обязательные аргументы')`.
  * Проверьте, есть ли звонок с таким же временем. Если есть, выведите предупреждение в консоль с помощью `console.warn('Уже присутствует звонок на это же время')`.
  * Перед завершением метода добавьте в массив звонков объект со свойствами `callback`, `time`, `canCall`. В свойстве `canCall` должно быть значение запуска функции коллбека. Изначально значением должно быть `true`.

3. `removeClock` — удаляет звонки по определённому времени.
  * Принимает `time` звонка, который следует удалить.
  * Удалите из массива звонков те, у которых `time` совпадает со значением аргумента. Например, можно использовать метод `filter`.

4. `getCurrentFormattedTime` — возвращает текущее время в строковом формате `HH:MM`.

5. `start` — запускает будильник.
  * Проверьте наличие значения в свойстве `intervalId`. Если в нём присутствует значение, то завершайте выполнение метода. Программа не должна позволять создавать несколько интервалов.
  * Создавайте новый интервал, в котором каждую секунду выполняйте действия:
     - Перебирайте все звонки с помощью метода `forEach`.
     - При переборе каждый звонок проверяйте на возможность его запуска: *свойство `time` совпадает с текущим временем, и звонок может выполняться (в свойстве `canCall` находится `true`)*.
     - При истинном условии (необходимости запуска звонка) в свойство `canCall` (возможность вызова звонка) присваивайте `false` и вызывайте коллбек звонка (свойство `callback`).
  * Результат создания интервала сохраняйте в свойство `intervalId`.

6. `stop` — останавливает выполнение интервала будильника.
  * Вызовите функцию `clearInterval` для удаления интервала.
  * Сбросьте значение из свойства `intervalId`. Для сброса свойства можно присваивать `null`.

7. `resetAllCalls` — сбрасывает возможность запуска всех звонков.
  * С помощью метода `forEach` присваивайте `true` в свойство `canCall` у каждого звонка.

8. `clearAlarms` — удаляет все звонки.
  * Вызывает метод остановки интервала (метод `stop`).
  * Удаляет все звонки. Для удаления всех звонков переприсваивайте свойство `alarmCollection` в пустой массив.

## Результат при правильном решении задания
![графическое представление](../Jasmine/results/sucessed_tasks_2_4.png)

## Требования к выполнению домашней работы

1. Все тесты успешно выполняются.
2. Соблюдается [кодстайл](../../Правила%20оформления%20JS%20кода.md).
3. Решение загружено в форкнутый репозиторий GitHub.

## Решение задач
1. Откройте файл `task.js` в вашем редакторе кода и выполните задание. <br>
2. Проверьте соблюдение [кодстайла](../../Правила%20оформления%20JS%20кода.md). Форматируйте ваш код через форматтер https://codebeautify.org/jsviewer.
